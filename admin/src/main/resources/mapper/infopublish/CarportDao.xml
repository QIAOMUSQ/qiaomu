<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.qiaomu.modules.infopublish.dao.CarportDao">
    <delete id="deleteByCommunityId" parameterType="long">
        DELETE  FROM  yw_carport WHERE community_id = #{communityId}
    </delete>
    <select id="selectAll" resultType="com.qiaomu.modules.infopublish.entity.CarportEntity">
        SELECT * from yw_carport
        <where>
            1=1
            <if test="userId !='' and userId !=null">
                AND user_id= #{userId}
            </if>
            <if test="communityId !='' and communityId !=null">
                and community_id = #{communityId}
            </if>
            <if test="type !='' and type !=null">
                and type = #{type}
            </if>
        </where>
        ORDER BY create_time DESC
    </select>
    <select id="selectByCommunityId" parameterType="long" resultType="com.qiaomu.modules.infopublish.entity.CarportEntity">
        SELECT * from yw_carport where community_id = #{communityId}
    </select>



</mapper>